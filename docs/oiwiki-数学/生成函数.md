###### 1，生成函数简介

生成函数（generating function），又称母函数，是一种形式幂级数，其每一项的系数可以提供关于这个序列的信息。

生成函数有许多不同的种类，但大多可以表示为单一的形式：

$\displaystyle F_x ~=~ \sum_{n}a_n\times k_{n,~x}$

其中 $k_{n,~x}$ 被称为**核函数**。不同的核函数会导出不同的生成函数，拥有不同的性质。举个例子：

+ 1，普通生成函数 $OGF$：$\displaystyle OGF_x ~=~ \sum\limits_{i}a_i\times k_{i,~x} ~=~ \sum\limits_{i}a_i\times x^{i} $

+ 2，指数生成函数 $EGF$：$\displaystyle EGF_x ~~=~~ \sum\limits_{i}a_i\times k_{i,~~x} ~=~~ \sum\limits_{i}a_i\times \frac{x^i}{i!} $

+ 3，狄利克雷生成函数 $DGF$：$\displaystyle EGF_x ~~=~~ \sum\limits_{i}a_i\times k_{i,~~x} ~=~~ \sum\limits_{i}a_i\times \frac{1}{i^x}$

另外，对于生成函数 $F_x$ ，我们用 $[k_{n,~x}]F_x$ 来表示它的第 $n$ 项的核函数对应的系数，也就是 $a_n$。

###### 2，符号化方法

符号化方法（$symbolic~method$）是将组合对象快速转换成生成函数的一种方法，我们将考虑对于集合上定义的特定运算，然后导出其对应的生成函数的运算。

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-17-55-38-image.png)

+ 无标号体系

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-21-10-43-image.png)

（不讨论 可容许性 $admissibility$，可参考  Analytic Combinatorics 的第一章）

两种特殊的组合类 和 组合对象

+ + 中性对象 $neutral~object$ 记作 $\epsilon$，其大小为0；中性类 $neutral~class$ 记作 $\mathcal{E} ~=~ \{\epsilon \}$，其OGF为 $E(z) ~=~ 1$

+ + 原子对象 $atom~object$ 记作 $\circ 或 \bullet$ ，其大小为1；原子类 $atom~class$ 记作 $\mathcal{Z_{\circ}} ~=~ \{\circ\} ~或~ \mathcal{Z_{\bullet}} ~~=~~ {\bullet} ~或~ \mathcal{Z} $，其OGF为 $Z(z) ~=~ z$

对于两个组合类 $\mathcal{A}$ 和 $\mathcal{B}$ 在组合意义上同构为 $\mathcal{A=B}$ 或 $\mathcal{A\cong B}$，但仅当该同构**不平凡**时才使用后者的记号

（组合类？组合对象？同构？不平凡？）

我们有： $\mathcal{A}\cong\mathcal{E}\times \mathcal{A}\cong\mathcal{A}\times\mathcal{E}$

（其中 $\times$ 为二元运算，表示集合的笛卡尔积）

+ 1， 集合的（不相交）并构造

对于类 $\mathcal{A}$ 和 $\mathcal{B}$ 的并记为：$\mathcal{A}+\mathcal{B}=(\mathcal{E}_{1}\times\mathcal{A})+(\mathcal{E}_2\times\mathcal{B})$

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-21-41-26-image.png)

对应的OGF为： $A(z)+B(z)$

考虑 $A(z)+B(z)=\sum _ {\alpha\in\mathcal{A}}z^{\lvert \alpha\rvert} + \sum _ {\beta\in\mathcal{B}}z^{\lvert \beta\rvert}=\sum_{n\geq 0}(a_n+b_n)z^n$

（对应形式幂级数的加法）

+ 2，集合的笛卡尔积构造

对于类 $\mathcal{A}$ 和 $\mathcal{B}$ 的笛卡尔积记为：$\mathcal{A}\times \mathcal{B}=\left\lbrace (\alpha, \beta)\mid \alpha \in \mathcal{A},\beta\in\mathcal{B}\right\rbrace$

对应 OGF 为：$A(z)\cdot B(z)$

我们定义 $(\alpha,~\beta)$ 的大小为其组成部分的大小之和，那么显然也有：$\gamma =(\alpha_1,\alpha_2,\dots ,\alpha_n)\implies \lvert \gamma\rvert =\lvert \alpha_1\rvert +\lvert \alpha_2\rvert +\cdots +\lvert \alpha_n\rvert$

所以：$\displaystyle A(z)\cdot B(z)=\left(\sum _ {\alpha\in\mathcal{A}}z^{\lvert \alpha\rvert}\right)\left(\sum _ {\beta\in\mathcal{B}}z^{\lvert \beta\rvert}\right)=\sum _ {(\alpha, \beta)\in(\mathcal{A}\times \mathcal{B})}z^{\lvert \alpha\rvert +\lvert \beta\rvert}=\sum_{n\geq 0}\sum_{i+j=n}a_ib_jz^n$

（对应形式幂级数的乘法）

+ 3，集合的 Sequence 构造

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-21-59-42-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-21-59-48-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-04-22-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-18-39-image.png)

（开摆！！天书！！？）

+ 4，集合的 Multiset 构造

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-20-08-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-20-16-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-24-34-image.png)

![](D:\Document%20And%20Settings2\lx\Desktop\oi-wiki\数学\_生成函数_\assets\2022-07-17-22-25-04-image.png)

+ + [#6268. 分拆数 - 题目 - LibreOJ (loj.ac)](https://loj.ac/p/6268)
  
  + [P4389 付公主的背包 - 洛谷 | 计算机科学教育新生态 (luogu.com.cn)](https://www.luogu.com.cn/problem/P4389)
  
  + [P5900 无标号无根树计数 - 洛谷 | 计算机科学教育新生态 (luogu.com.cn)](https://www.luogu.com.cn/problem/P5900)

s

+ 5，集合的 Powerset 构造
